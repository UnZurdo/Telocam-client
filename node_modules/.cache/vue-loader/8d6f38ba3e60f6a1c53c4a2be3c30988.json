{"remainingRequest":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zurdo/Projects/vue-auth-vuex/src/components/Popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zurdo/Projects/vue-auth-vuex/src/components/Popup.vue","mtime":1546536887091},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      description: \"\",\n      phone: \"\",\n      sector: \"\",\n      url: \"\",\n      menu: false,\n      inputRules: [\n        v => !!v || \"This field is required\",\n        v => v.length >= 3 || \"Minimum length is 3 characters\"\n      ],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        const project = {\n          empresa: this.name,\n          email: this.email,\n          phone: this.phone,\n          sector: this.sector,\n          url: this.url,\n          description: this.description\n        };\n\n        axios\n          .post(`${API_BASE}/empresas/new`, project, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.token\n            }\n          })\n          .then(function(response) {\n            console.log(response);\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      }\n      this.loading = false;\n      this.dialog = false;\n      this.$emit(\"Empresa añadida\");\n    }\n  },\n  computed: {\n    formattedDate() {\n      console.log(this.due);\n      return this.due ? format(this.due, \"Do MMM YYYY\") : \"\";\n    }\n  }\n};\n",{"version":3,"sources":["Popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Popup.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-dialog max-width=\"600px\" v-model=\"dialog\">\n    <v-btn flat slot=\"activator\" class=\"success\">Añadir Empresa</v-btn>\n    <v-card>\n      <v-card-title class=\"subheading grey--text pl-4\">\n        <h2>Añadir Nueva Empresa</h2>\n      </v-card-title>\n      <v-card-text>\n        <v-form class=\"px-3\" ref=\"form\">\n          <v-text-field v-model=\"name\" label=\"Título*\" prepend-icon=\"title\" :rules=\"inputRules\"></v-text-field>\n          <v-text-field v-model=\"email\" label=\"Email*\" prepend-icon=\"email\" :rules=\"inputRules\"></v-text-field>\n\n          <v-text-field\n            v-model=\"sector\"\n            label=\"Sector*\"\n            prepend-icon=\"business\"\n            :rules=\"inputRules\"\n          ></v-text-field>\n          <v-text-field v-model=\"url\" label=\"Website*\" prepend-icon=\"web\" :rules=\"inputRules\"></v-text-field>\n          <v-text-field\n            v-model=\"phone\"\n            label=\"Phone*\"\n            prepend-icon=\"local_phone\"\n            :rules=\"inputRules\"\n          ></v-text-field>\n\n          <v-textarea\n            v-model=\"description\"\n            label=\"Descripción\"\n            prepend-icon=\"edit\"\n            :rules=\"inputRules\"\n          ></v-textarea>\n\n          <v-spacer></v-spacer>\n\n          <v-btn flat @click=\"submit\" class=\"success mx-0 mt-3\" :loading=\"loading\">Añadir</v-btn>\n        </v-form>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      description: \"\",\n      phone: \"\",\n      sector: \"\",\n      url: \"\",\n      menu: false,\n      inputRules: [\n        v => !!v || \"This field is required\",\n        v => v.length >= 3 || \"Minimum length is 3 characters\"\n      ],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        const project = {\n          empresa: this.name,\n          email: this.email,\n          phone: this.phone,\n          sector: this.sector,\n          url: this.url,\n          description: this.description\n        };\n\n        axios\n          .post(`${API_BASE}/empresas/new`, project, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.token\n            }\n          })\n          .then(function(response) {\n            console.log(response);\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      }\n      this.loading = false;\n      this.dialog = false;\n      this.$emit(\"Empresa añadida\");\n    }\n  },\n  computed: {\n    formattedDate() {\n      console.log(this.due);\n      return this.due ? format(this.due, \"Do MMM YYYY\") : \"\";\n    }\n  }\n};\n</script>\n"]}]}