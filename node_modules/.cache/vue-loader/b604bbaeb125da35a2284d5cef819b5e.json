{"remainingRequest":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zurdo/Projects/vue-auth-vuex/src/views/Solicitud.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zurdo/Projects/vue-auth-vuex/src/views/Solicitud.vue","mtime":1548437553199},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport router from \"../router.js\";\n\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      download_url: \"\",\n      empresa: \"\",\n      CV: \"\",\n      status: \"\",\n      CV_url: \"\",\n      file: \"\",\n      alert: false,\n      nombrecompleto: \"\",\n      project: null,\n      personal_website: \"\",\n      CV: \"\",\n      CV_path: \"\",\n\n      dialog: false\n    };\n  },\n  methods: {\n    changeStatus(status) {\n      const url =\n        `${API_BASE}/applications/` +\n        this.project.applications_id +\n        \"/\" +\n        status;\n      console.log(url);\n      axios\n        .put(url, null, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(\"Response\", response);\n          router.push(\"/\");\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    fetchData() {\n      const url = `${API_BASE}/applications/` + this.$route.params.id;\n\n      console.log(url);\n      axios\n        .get(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(\"Response\", response);\n\n          this.project = response.data.data;\n          this.status = response.data.data.status;\n          this.CV_path = response.data.data.CV_url;\n          console.log(this.project);\n          this.download_url = `${API_BASE}/download/${\n            this.project.CoverLetter_url\n          }`;\n          this.CV_url = `${API_BASE}/download/${this.CV_path}`;\n          //console.log(this.download_url, this.CV_url);\n        });\n    },\n\n    sortBy(prop) {\n      if (this.direction) {\n        this.direction = false;\n        this.projects.sort((a, b) => (a[prop] < b[prop] ? -1 : 1));\n      } else {\n        this.direction = true;\n        this.projects.sort((a, b) => (a[prop] > b[prop] ? -1 : 1));\n      }\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  computed: {\n    coverletterExists: function() {\n      if (this.project.CoverLetter != \"\") return true;\n      else return false;\n    },\n    cvExists: function() {\n      if (this.project.CV != \"\" && this.project.CV != null) return true;\n      else return false;\n    }\n  }\n};\n",{"version":3,"sources":["Solicitud.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Solicitud.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <v-container class=\"pa-5\">\n      <div>\n        <v-alert v-model=\"alert\" dismissible type=\"success\">Solicitud actualizada</v-alert>\n      </div>\n      <h1 class=\"heading grey--text ml-2\">Solicitud</h1>\n\n      <v-card class=\"pa-2 mb-3\">\n        <v-layout class=\"ma-2 ml-4\" row wrap :class=\"`pa-3 project ${project.Status}`\">\n          <v-flex xs6 sm6 md6>\n            <h2 class=\"heading\">{{ project.practica }}</h2>\n          </v-flex>\n          <v-flex xs2 sm2 md2>\n            <v-btn @click=\"changeStatus('aceptado')\" small color=\"green\">aceptado</v-btn>\n          </v-flex>\n          <v-flex xs2 sm2 md2>\n            <v-btn @click=\"changeStatus('rechazado')\" small color=\"red\">rechazado</v-btn>\n          </v-flex>\n          <v-flex xs2 sm2 md2>\n            <v-btn @click=\"changeStatus('espera')\" small color=\"blue\">espera</v-btn>\n          </v-flex>\n          <v-flex class=\"my-3\" xs12 sm12 md12>\n            <v-divider></v-divider>\n          </v-flex>\n\n          <v-flex class=\"ml-3\" xs4 sm4 md4>\n            <div class=\"caption grey--text\">Estudiante</div>\n            <div>{{ project.NombreCompleto }}</div>\n          </v-flex>\n          <v-flex class=\"ml-3\" xs4 sm4 md4>\n            <div class=\"caption grey--text\">Estudios</div>\n            <div>{{ project.carrera }}</div>\n          </v-flex>\n          <v-flex class=\"ml-3\" xs6 sm5 md2>\n            <div class=\"caption grey--text\">Deadline</div>\n            <div>{{ project.TimeDue }}</div>\n          </v-flex>\n\n          <v-flex class=\"my-2\" xs12 sm12 md12></v-flex>\n\n          <v-flex class=\"ml-3\" xs4 sm4 md4>\n            <div class=\"caption grey--text\">Curso</div>\n            <div>{{ project.Curso }}</div>\n          </v-flex>\n          <v-flex class=\"ml-3\" xs4 sm4 md4>\n            <div class=\"caption grey--text\">Phone</div>\n            <div>{{ project.Phone }}</div>\n          </v-flex>\n          <v-flex class=\"ml-3\" xs6 sm5 md2>\n            <div class=\"caption grey--text\">Web Personal</div>\n            <div>{{ project.personal_website }}</div>\n          </v-flex>\n\n          <v-flex class=\"my-2\" xs12 sm12 md12></v-flex>\n\n          <v-flex class=\"ml-3\" xs4 sm4 md4>\n            <div class=\"caption grey--text\">LinkedIn</div>\n            <div>{{ project.LinkedIn }}</div>\n          </v-flex>\n          <v-flex class=\"my-2\" xs12 sm12 md12></v-flex>\n\n          <v-flex v-if=\"cvExists\" xs4 sm4 md4>\n            <v-btn small flat>\n              <a :href=\"CV_url\" target=\"_blank\" class>CV</a>\n            </v-btn>\n          </v-flex>\n\n          <v-flex v-if=\"coverletterExists\" class=\"ml-3\" xs4 sm4 md4>\n            <v-btn small flat>\n              <a :href=\"download_url\" target=\"_blank\" class>CoverLetter</a>\n            </v-btn>\n          </v-flex>\n\n          <v-flex class=\"ml-3\" xs2 sm2 md2>\n            <div class=\"right\">\n              <div class=\"grey--text ml-2\">Status</div>\n\n              <v-chip\n                small\n                :class=\"`${project.Status} white--text my-2 caption`\"\n              >{{ project.Status }}</v-chip>\n            </div>\n          </v-flex>\n\n          <!--          <v-flex xs12 sm12 md12>\n            <iframe title=\"file\" frameborder=\"0\" width=\"660\" height=\"715\" :src=\"download_url\"/>\n          </v-flex>-->\n        </v-layout>\n      </v-card>\n    </v-container>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport router from \"../router.js\";\n\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      download_url: \"\",\n      empresa: \"\",\n      CV: \"\",\n      status: \"\",\n      CV_url: \"\",\n      file: \"\",\n      alert: false,\n      nombrecompleto: \"\",\n      project: null,\n      personal_website: \"\",\n      CV: \"\",\n      CV_path: \"\",\n\n      dialog: false\n    };\n  },\n  methods: {\n    changeStatus(status) {\n      const url =\n        `${API_BASE}/applications/` +\n        this.project.applications_id +\n        \"/\" +\n        status;\n      console.log(url);\n      axios\n        .put(url, null, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(\"Response\", response);\n          router.push(\"/\");\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    },\n    fetchData() {\n      const url = `${API_BASE}/applications/` + this.$route.params.id;\n\n      console.log(url);\n      axios\n        .get(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(\"Response\", response);\n\n          this.project = response.data.data;\n          this.status = response.data.data.status;\n          this.CV_path = response.data.data.CV_url;\n          console.log(this.project);\n          this.download_url = `${API_BASE}/download/${\n            this.project.CoverLetter_url\n          }`;\n          this.CV_url = `${API_BASE}/download/${this.CV_path}`;\n          //console.log(this.download_url, this.CV_url);\n        });\n    },\n\n    sortBy(prop) {\n      if (this.direction) {\n        this.direction = false;\n        this.projects.sort((a, b) => (a[prop] < b[prop] ? -1 : 1));\n      } else {\n        this.direction = true;\n        this.projects.sort((a, b) => (a[prop] > b[prop] ? -1 : 1));\n      }\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  computed: {\n    coverletterExists: function() {\n      if (this.project.CoverLetter != \"\") return true;\n      else return false;\n    },\n    cvExists: function() {\n      if (this.project.CV != \"\" && this.project.CV != null) return true;\n      else return false;\n    }\n  }\n};\n</script>\n\n<style>\n.project.complete {\n  border-left: 4px solid #3cd1c2;\n}\n\n.project.open {\n  border-left: 4px solid #3cd1c2;\n}\n.project.ongoing {\n  border-left: 4px solid #ffaa2c;\n}\n.project.overdue {\n  border-left: 4px solid #f83e70;\n}\n.v-chip.complete {\n  background: #3cd1c2;\n}\n\n.v-chip.aceptado {\n  background: #3cd1c2;\n}\n\n.v-chip.rechazado {\n  background: #f83e70;\n}\n.v-chip.pendiente {\n  background: #b8b8b8;\n}\n.v-chip.espera {\n  background: #3e70f8;\n}\n</style>"]}]}