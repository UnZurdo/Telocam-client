{"remainingRequest":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zurdo/Projects/vue-auth-vuex/src/components/PopupPractica.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zurdo/Projects/vue-auth-vuex/src/components/PopupPractica.vue","mtime":1548336531382},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/zurdo/Projects/vue-auth-vuex/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\nexport default {\n  data: function data() {\n    return {\n      name: \"\",\n      arr: [],\n      arr_empresas: {},\n      empresaid: \"\",\n      empresa: \"\",\n      selected: \"\",\n      studies: [],\n      url: \"\",\n      description: \"\",\n      timedue: null,\n      menu: false,\n      inputRules: [function (v) {\n        return !!v || \"This field is required\";\n      }, function (v) {\n        return v.length >= 3 || \"Minimum length is 3 characters\";\n      }],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit: function submit() {\n      console.log(\"Submit\");\n      console.log(\"Empresas\", this.arr_empresas, \"Selected: \", this.selected);\n      console.log(this.studies);\n\n      if (this.$refs.form.validate()) {\n        var _project;\n\n        this.loading = true;\n        var project = (_project = {\n          practica: this.name,\n          studies: this.studies.toString(),\n          EmpresaFK: this.arr_empresas[this.selected],\n          urlp: this.url,\n          Description_P: this.description,\n          statusP: \"ongoing\",\n          timedue: this.timedue\n        }, _defineProperty(_project, \"Description_P\", this.description), _defineProperty(_project, \"nApplications\", 0), _defineProperty(_project, \"EndDate\", this.timedue), _project);\n        console.log(\"projecy\", project);\n        axios.post(\"\".concat(API_BASE, \"/practicas/new\"), project, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        }).then(function (response) {\n          console.log(response);\n        }).catch(function (error) {\n          console.log(error);\n        });\n        this.loading = false;\n        this.dialog = false;\n        this.$emit(\"Practica añadida\");\n      }\n    }\n  },\n  computed: {\n    formattedDate: function formattedDate() {\n      console.log(this.timedue); //this.menu = false;\n\n      return this.timedue ? format(this.timedue, \"Do MMM YYYY\") : \"\";\n    },\n    getEmpresas: function getEmpresas() {\n      var _this = this;\n\n      var arr_names = [];\n      axios.get(\"\".concat(API_BASE, \"/empresas/all\"), {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.token\n        }\n      }).then(function (response) {\n        console.log(response);\n        response.data.data.forEach(function (val, key) {\n          _this.arr_empresas[val.empresa] = val.empresa_id;\n          arr_names.push(val.empresa);\n        });\n      });\n      return arr_names;\n    }\n  }\n};",{"version":3,"sources":["PopupPractica.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-dialog max-width=\"600px\" v-model=\"dialog\">\n    <v-btn flat slot=\"activator\" class=\"success\">Añadir Oferta</v-btn>\n    <v-card>\n      <v-card-title class=\"subheading grey--text pl-4\">\n        <h2>Añadir Nueva Oferta</h2>\n      </v-card-title>\n      <v-card-text>\n        <v-form class=\"px-3\" ref=\"form\">\n          <v-text-field v-model=\"name\" label=\"Título*\" prepend-icon=\"title\" :rules=\"inputRules\"></v-text-field>\n\n          <span class=\"subheading grey--text\">Empresa</span>\n          <vue-single-select v-model=\"selected\" :options=\"getEmpresas\" :required=\"true\"></vue-single-select>\n\n          <span class=\"subheading grey--text mt-3\">Estudios</span>\n          <input-tag placeholder=\"  Add Tag\" v-model=\"studies\"></input-tag>\n          <v-text-field v-model=\"url\" label=\"url*\" prepend-icon=\"web\" :rules=\"inputRules\"></v-text-field>\n\n          <v-textarea v-model=\"description\" label=\"Descripción\" prepend-icon=\"edit\"></v-textarea>\n\n          <!-- <v-menu v-model=\"timedue\" :close-on-content-click=\"false\">\n            <v-text-field\n              slot=\"activator\"\n              :rules=\"inputRules\"\n              :value=\"formattedDate\"\n              clearable\n              label=\"Fecha final\"\n              prepend-icon=\"date_range\"\n            ></v-text-field>\n            <v-date-picker v-model=\"timedue\" @change=\"menu = false\"></v-date-picker>\n          </v-menu>-->\n          <v-flex xs12 sm6 md4>\n            <v-menu\n              ref=\"menu\"\n              :close-on-content-click=\"false\"\n              v-model=\"menu\"\n              :nudge-right=\"40\"\n              :return-value.sync=\"timedue\"\n              :value=\"formattedDate\"\n              lazy\n              transition=\"scale-transition\"\n              offset-y\n              full-width\n              min-width=\"290px\"\n            >\n              <v-text-field\n                slot=\"activator\"\n                v-model=\"timedue\"\n                label=\"Picker in menu\"\n                prepend-icon=\"event\"\n                readonly\n              ></v-text-field>\n              <v-date-picker v-model=\"timedue\" no-title scrollable>\n                <v-spacer></v-spacer>\n                <v-btn flat color=\"primary\" @click=\"menu = false\">Cancel</v-btn>\n                <v-btn flat color=\"primary\" @click=\"$refs.menu.save(timedue)\">OK</v-btn>\n              </v-date-picker>\n            </v-menu>\n          </v-flex>\n          <v-spacer></v-spacer>\n\n          <v-spacer></v-spacer>\n\n          <v-btn flat @click=\"submit\" class=\"success mx-0 mt-3\" :loading=\"loading\">Añadir</v-btn>\n        </v-form>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      arr: [],\n      arr_empresas: {},\n      empresaid: \"\",\n      empresa: \"\",\n      selected: \"\",\n      studies: [],\n      url: \"\",\n      description: \"\",\n      timedue: null,\n      menu: false,\n      inputRules: [\n        v => !!v || \"This field is required\",\n        v => v.length >= 3 || \"Minimum length is 3 characters\"\n      ],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit() {\n      console.log(\"Submit\");\n      console.log(\"Empresas\", this.arr_empresas, \"Selected: \", this.selected);\n      console.log(this.studies);\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        const project = {\n          practica: this.name,\n          studies: this.studies.toString(),\n          EmpresaFK: this.arr_empresas[this.selected],\n          urlp: this.url,\n          Description_P: this.description,\n          statusP: \"ongoing\",\n          timedue: this.timedue,\n          Description_P: this.description,\n          nApplications: 0,\n          EndDate: this.timedue\n        };\n        console.log(\"projecy\", project);\n        axios\n          .post(`${API_BASE}/practicas/new`, project, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.token\n            }\n          })\n          .then(function(response) {\n            console.log(response);\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n        this.loading = false;\n        this.dialog = false;\n        this.$emit(\"Practica añadida\");\n      }\n    }\n  },\n  computed: {\n    formattedDate() {\n      console.log(this.timedue);\n      //this.menu = false;\n      return this.timedue ? format(this.timedue, \"Do MMM YYYY\") : \"\";\n    },\n    getEmpresas: function() {\n      let arr_names = [];\n      axios\n        .get(`${API_BASE}/empresas/all`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(response);\n          response.data.data.forEach((val, key) => {\n            this.arr_empresas[val.empresa] = val.empresa_id;\n            arr_names.push(val.empresa);\n          });\n        });\n      return arr_names;\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}