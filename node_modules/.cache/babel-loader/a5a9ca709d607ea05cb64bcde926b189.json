{"remainingRequest":"/Users/zurdo/Projects/ProyectoSoftware/client/node_modules/babel-loader/lib/index.js!/Users/zurdo/Projects/ProyectoSoftware/client/node_modules/eslint-loader/index.js??ref--13-0!/Users/zurdo/Projects/ProyectoSoftware/client/src/router.js","dependencies":[{"path":"/Users/zurdo/Projects/ProyectoSoftware/client/src/router.js","mtime":1550413162768},{"path":"/Users/zurdo/Projects/ProyectoSoftware/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/ProyectoSoftware/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/ProyectoSoftware/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"./store.js\";\nimport Confirmar from \"./views/Confirmar.vue\";\nimport Login from \"./views/Login.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport Home from \"./views/Home.vue\";\nimport Mensajes from \"./views/Mensajes.vue\";\nimport Chat from \"./views/Chat.vue\";\nimport Register from \"./components/Register.vue\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: [{\n    path: \"/dashboard\",\n    name: \"Dashboard\",\n    component: Dashboard,\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      path: \"mensajes\",\n      component: Mensajes,\n      children: [{\n        path: \":id\",\n        component: Chat\n      }]\n    }, {\n      path: \"perfil\",\n      component: Home\n    }, {\n      path: \"favoritos\",\n      component: Home\n    }, {\n      path: \"opiniones\",\n      component: Home\n    }, {\n      path: \"estadisticas\",\n      component: Home\n    }, {\n      path: \"productos\",\n      component: Home\n    }, {\n      path: \"productos/vendidos\",\n      component: Home\n    }]\n  }, {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n    meta: {\n      requiresAuth: false\n    }\n  }, {\n    path: \"/login\",\n    name: \"login\",\n    component: Login\n  }, {\n    path: \"/register\",\n    name: \"register\",\n    component: Register\n  }, {\n    path: \"/confirmar/:token\",\n    name: \"confirmar-user\",\n    component: Confirmar,\n    meta: {\n      requiresAuth: false\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (store.getters.isLoggedIn) {\n      console.log(\"Logged in!\");\n\n      if (to.meta.adminAuth) {\n        var esAdmin = store.getters.isAdmin;\n        console.log(\"esAdmin\", esAdmin);\n\n        if (esAdmin == \"true\") {\n          next();\n        } else {\n          next(\"/\");\n        }\n      } else {\n        next();\n      }\n\n      return;\n    }\n\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/zurdo/Projects/ProyectoSoftware/client/src/router.js"],"names":["Vue","Router","store","Confirmar","Login","Dashboard","Home","Mensajes","Chat","Register","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","meta","requiresAuth","children","beforeEach","to","from","next","matched","some","record","getters","isLoggedIn","console","log","adminAuth","esAdmin","isAdmin"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"./store.js\";\n\nimport Confirmar from \"./views/Confirmar.vue\";\nimport Login from \"./views/Login.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport Home from \"./views/Home.vue\";\n\nimport Mensajes from \"./views/Mensajes.vue\";\nimport Chat from \"./views/Chat.vue\";\n\nimport Register from \"./components/Register.vue\";\n\nVue.use(Router);\n\nlet router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n\n  routes: [\n    {\n      path: \"/dashboard\",\n      name: \"Dashboard\",\n      component: Dashboard,\n      meta: {\n        requiresAuth: true\n      },\n      children: [\n        {\n          path: \"mensajes\",\n          component: Mensajes,\n          children: [\n            {\n              path: \":id\",\n              component: Chat\n            }\n          ]\n        },\n        {\n          path: \"perfil\",\n          component: Home\n        },\n        {\n          path: \"favoritos\",\n          component: Home\n        },\n        {\n          path: \"opiniones\",\n          component: Home\n        },\n        {\n          path: \"estadisticas\",\n          component: Home\n        },\n        {\n          path: \"productos\",\n          component: Home\n        },\n        {\n          path: \"productos/vendidos\",\n          component: Home\n        }\n      ]\n    },\n    {\n      path: \"/\",\n      name: \"Home\",\n      component: Home,\n      meta: {\n        requiresAuth: false\n      }\n    },\n\n    {\n      path: \"/login\",\n      name: \"login\",\n      component: Login\n    },\n    {\n      path: \"/register\",\n      name: \"register\",\n      component: Register\n    },\n\n    {\n      path: \"/confirmar/:token\",\n      name: \"confirmar-user\",\n      component: Confirmar,\n      meta: {\n        requiresAuth: false\n      }\n    }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.getters.isLoggedIn) {\n      console.log(\"Logged in!\");\n      if (to.meta.adminAuth) {\n        const esAdmin = store.getters.isAdmin;\n        console.log(\"esAdmin\", esAdmin);\n        if (esAdmin == \"true\") {\n          next();\n        } else {\n          next(\"/\");\n        }\n      } else {\n        next();\n      }\n      return;\n    }\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}