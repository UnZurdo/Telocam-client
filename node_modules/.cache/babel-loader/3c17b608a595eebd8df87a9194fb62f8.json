{"remainingRequest":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/thread-loader/dist/cjs.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/eslint-loader/index.js??ref--13-0!/Users/zurdo/Projects/vue-auth-vuex/src/router.js","dependencies":[{"path":"/Users/zurdo/Projects/vue-auth-vuex/src/router.js","mtime":1548422062432},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"./store.js\";\nimport Empresas from \"./views/Empresas.vue\";\nimport EmpresasName from \"./views/EmpresasName.vue\";\nimport EmpleosID from \"./views/EmpleosID.vue\";\nimport Confirmar from \"./views/Confirmar.vue\";\nimport Login from \"./views/Login.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport Empleos from \"./views/Empleos.vue\";\nimport Profile from \"./views/Profile.vue\";\nimport Register from \"./components/Register.vue\";\nimport RegisterEmpresas from \"./components/RegisterEmpresas.vue\";\nimport Admin from \"./views/Admin/Admin.vue\";\nimport EmpresasAdmin from \"./views/Admin/Empresas.vue\";\nimport EmpresasNameAdmin from \"./views/Admin/EmpresasName.vue\";\nimport EmpleosIDAdmin from \"./views/Admin/EmpleosID.vue\";\nimport EmpleosAdmin from \"./views/Admin/Empleos.vue\";\nimport UsuariosAdmin from \"./views/Admin/Usuarios.vue\";\nimport UsuariosProfileAdmin from \"./views/Admin/Profile.vue\";\nimport SolicitudesAdmin from \"./views/Admin/Solicitudes.vue\";\nimport Solicitud from \"./views/Solicitud.vue\";\nVue.use(Router);\nvar router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes: [{\n    path: \"/\",\n    name: \"Dashboard\",\n    component: Dashboard,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/login\",\n    name: \"login\",\n    component: Login\n  }, {\n    path: \"/register\",\n    name: \"register\",\n    component: Register\n  }, {\n    path: \"/register/empresas\",\n    name: \"registerEmpresas\",\n    component: RegisterEmpresas\n  }, {\n    path: \"/profile\",\n    name: \"profile\",\n    component: Profile,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/empresas\",\n    name: \"empresas\",\n    component: Empresas,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/empresas/:id\",\n    name: \"empresas-name\",\n    component: EmpresasName,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/practicas/:id\",\n    name: \"practicas-name\",\n    component: EmpleosID,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/solicitud/:id\",\n    name: \"practicas-solicitud\",\n    component: Solicitud,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/confirmar/:token\",\n    name: \"confirmar-user\",\n    component: Confirmar,\n    meta: {\n      requiresAuth: false\n    }\n  }, {\n    path: \"/empleos\",\n    name: \"empleos\",\n    component: Empleos,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"/admin\",\n    name: \"admin\",\n    component: Admin,\n    children: [{\n      path: \"empresas\",\n      component: EmpresasAdmin\n    }, {\n      path: \"empresas/:id\",\n      component: EmpresasNameAdmin\n    }, {\n      path: \"practicas/:id\",\n      component: EmpleosIDAdmin\n    }, {\n      path: \"empleos\",\n      component: EmpleosAdmin\n    }, {\n      path: \"usuarios\",\n      component: UsuariosAdmin\n    }, {\n      path: \"usuarios/:id\",\n      component: UsuariosProfileAdmin\n    }, {\n      path: \"solicitudes\",\n      component: SolicitudesAdmin\n    }],\n    meta: {\n      requiresAuth: true,\n      adminAuth: true\n    }\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requiresAuth;\n  })) {\n    if (store.getters.isLoggedIn) {\n      console.log(\"Logged in!\");\n\n      if (to.meta.adminAuth) {\n        var esAdmin = store.getters.isAdmin;\n        console.log(\"esAdmin\", esAdmin);\n\n        if (esAdmin == \"true\") {\n          next();\n        } else {\n          next(\"/\");\n        }\n      } else {\n        next();\n      }\n\n      return;\n    }\n\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\nexport default router;",{"version":3,"sources":["/Users/zurdo/Projects/vue-auth-vuex/src/router.js"],"names":["Vue","Router","store","Empresas","EmpresasName","EmpleosID","Confirmar","Login","Dashboard","Empleos","Profile","Register","RegisterEmpresas","Admin","EmpresasAdmin","EmpresasNameAdmin","EmpleosIDAdmin","EmpleosAdmin","UsuariosAdmin","UsuariosProfileAdmin","SolicitudesAdmin","Solicitud","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","meta","requiresAuth","children","adminAuth","beforeEach","to","from","next","matched","some","record","getters","isLoggedIn","console","log","esAdmin","isAdmin"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport Router from \"vue-router\";\nimport store from \"./store.js\";\nimport Empresas from \"./views/Empresas.vue\";\nimport EmpresasName from \"./views/EmpresasName.vue\";\nimport EmpleosID from \"./views/EmpleosID.vue\";\nimport Confirmar from \"./views/Confirmar.vue\";\nimport Login from \"./views/Login.vue\";\nimport Dashboard from \"./views/Dashboard.vue\";\nimport Empleos from \"./views/Empleos.vue\";\nimport Profile from \"./views/Profile.vue\";\nimport Register from \"./components/Register.vue\";\nimport RegisterEmpresas from \"./components/RegisterEmpresas.vue\";\n\nimport Admin from \"./views/Admin/Admin.vue\";\nimport EmpresasAdmin from \"./views/Admin/Empresas.vue\";\nimport EmpresasNameAdmin from \"./views/Admin/EmpresasName.vue\";\nimport EmpleosIDAdmin from \"./views/Admin/EmpleosID.vue\";\nimport EmpleosAdmin from \"./views/Admin/Empleos.vue\";\nimport UsuariosAdmin from \"./views/Admin/Usuarios.vue\";\nimport UsuariosProfileAdmin from \"./views/Admin/Profile.vue\";\nimport SolicitudesAdmin from \"./views/Admin/Solicitudes.vue\";\nimport Solicitud from \"./views/Solicitud.vue\";\n\nVue.use(Router);\n\nlet router = new Router({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n\n  routes: [\n    {\n      path: \"/\",\n      name: \"Dashboard\",\n      component: Dashboard,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/login\",\n      name: \"login\",\n      component: Login\n    },\n    {\n      path: \"/register\",\n      name: \"register\",\n      component: Register\n    },\n    {\n      path: \"/register/empresas\",\n      name: \"registerEmpresas\",\n      component: RegisterEmpresas\n    },\n    {\n      path: \"/profile\",\n      name: \"profile\",\n      component: Profile,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/empresas\",\n      name: \"empresas\",\n      component: Empresas,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/empresas/:id\",\n      name: \"empresas-name\",\n      component: EmpresasName,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/practicas/:id\",\n      name: \"practicas-name\",\n      component: EmpleosID,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/solicitud/:id\",\n      name: \"practicas-solicitud\",\n      component: Solicitud,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/confirmar/:token\",\n      name: \"confirmar-user\",\n      component: Confirmar,\n      meta: {\n        requiresAuth: false\n      }\n    },\n    {\n      path: \"/empleos\",\n      name: \"empleos\",\n      component: Empleos,\n      meta: {\n        requiresAuth: true\n      }\n    },\n    {\n      path: \"/admin\",\n      name: \"admin\",\n      component: Admin,\n      children: [\n        {\n          path: \"empresas\",\n          component: EmpresasAdmin\n        },\n        {\n          path: \"empresas/:id\",\n          component: EmpresasNameAdmin\n        },\n        {\n          path: \"practicas/:id\",\n          component: EmpleosIDAdmin\n        },\n        {\n          path: \"empleos\",\n          component: EmpleosAdmin\n        },\n        {\n          path: \"usuarios\",\n          component: UsuariosAdmin\n        },\n        {\n          path: \"usuarios/:id\",\n          component: UsuariosProfileAdmin\n        },\n        {\n          path: \"solicitudes\",\n          component: SolicitudesAdmin\n        }\n      ],\n      meta: {\n        requiresAuth: true,\n        adminAuth: true\n      }\n    }\n  ]\n});\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.getters.isLoggedIn) {\n      console.log(\"Logged in!\");\n      if (to.meta.adminAuth) {\n        const esAdmin = store.getters.isAdmin;\n        console.log(\"esAdmin\", esAdmin);\n        if (esAdmin == \"true\") {\n          next();\n        } else {\n          next(\"/\");\n        }\n      } else {\n        next();\n      }\n      return;\n    }\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}