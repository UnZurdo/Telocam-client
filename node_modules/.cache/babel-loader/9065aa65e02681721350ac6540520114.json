{"remainingRequest":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/thread-loader/dist/cjs.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js!/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zurdo/Projects/vue-auth-vuex/src/components/PerfilEmpresas.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zurdo/Projects/vue-auth-vuex/src/components/PerfilEmpresas.vue","mtime":1548384678826},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vuetify-loader/lib/loader.js","mtime":1543737895000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zurdo/Projects/vue-auth-vuex/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\nexport default {\n  data: function data() {\n    return {\n      name: \"\",\n      email: \"\",\n      description: \"\",\n      phone: \"\",\n      sector: \"\",\n      url: \"\",\n      menu: false,\n      inputRules: [function (v) {\n        return !!v || \"This field is required\";\n      }, function (v) {\n        return v.length >= 3 || \"Minimum length is 3 characters\";\n      }],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit: function submit() {\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        var project = {\n          empresa: this.name,\n          email: this.email,\n          phone: this.phone,\n          sector: this.sector,\n          url: this.url,\n          description: this.description\n        };\n        axios.put(\"\".concat(API_BASE, \"/empresas/\") + localStorage.empresaFK, project, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        }).then(function (response) {\n          console.log(response);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n\n      this.loading = false;\n      this.dialog = false;\n      this.$emit(\"Empresa añadida\");\n    },\n    fetchData: function fetchData() {\n      var _this = this;\n\n      var url = \"\".concat(API_BASE, \"/empresas/\") + localStorage.empresaFK;\n      console.log(url);\n      axios.get(url, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + localStorage.token\n        }\n      }).then(function (response) {\n        console.log(\"Response\", response);\n        _this.name = response.data.data.empresa;\n        _this.email = response.data.data.email;\n        _this.phone = response.data.data.phone;\n        _this.sector = response.data.data.sector;\n        _this.url = response.data.data.url;\n        _this.description = response.data.data.description;\n      });\n    }\n  },\n  computed: {\n    formattedDate: function formattedDate() {\n      console.log(this.due);\n      return this.due ? format(this.due, \"Do MMM YYYY\") : \"\";\n    }\n  },\n  mounted: function mounted() {\n    this.fetchData();\n  }\n};",{"version":3,"sources":["PerfilEmpresas.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-card>\n    <v-card-title class=\"subheading grey--text pl-4\">\n      <h2>Información Empresa</h2>\n    </v-card-title>\n    <v-card-text>\n      <v-form class=\"px-3\" ref=\"form\">\n        <v-text-field v-model=\"name\" label=\"Título*\" prepend-icon=\"title\" :rules=\"inputRules\"></v-text-field>\n        <v-text-field v-model=\"email\" label=\"Email*\" prepend-icon=\"email\" :rules=\"inputRules\"></v-text-field>\n\n        <v-text-field v-model=\"sector\" label=\"Sector*\" prepend-icon=\"business\" :rules=\"inputRules\"></v-text-field>\n        <v-text-field v-model=\"url\" label=\"Website*\" prepend-icon=\"web\" :rules=\"inputRules\"></v-text-field>\n        <v-text-field v-model=\"phone\" label=\"Phone*\" prepend-icon=\"local_phone\" :rules=\"inputRules\"></v-text-field>\n\n        <v-textarea\n          v-model=\"description\"\n          label=\"Descripción\"\n          prepend-icon=\"edit\"\n          :rules=\"inputRules\"\n        ></v-textarea>\n\n        <v-spacer></v-spacer>\n\n        <v-btn flat @click=\"submit\" class=\"success ml-4 mt-3\" :loading=\"loading\">Update</v-btn>\n      </v-form>\n    </v-card-text>\n  </v-card>\n</template>\n\n<script>\nimport format from \"date-fns/format\";\nimport axios from \"axios\";\nimport store from \"../store.js\";\nimport { API_BASE } from \"../config\";\n\nexport default {\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      description: \"\",\n      phone: \"\",\n      sector: \"\",\n      url: \"\",\n      menu: false,\n      inputRules: [\n        v => !!v || \"This field is required\",\n        v => v.length >= 3 || \"Minimum length is 3 characters\"\n      ],\n      loading: false,\n      dialog: false\n    };\n  },\n  methods: {\n    submit() {\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        const project = {\n          empresa: this.name,\n          email: this.email,\n          phone: this.phone,\n          sector: this.sector,\n          url: this.url,\n          description: this.description\n        };\n\n        axios\n          .put(`${API_BASE}/empresas/` + localStorage.empresaFK, project, {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + localStorage.token\n            }\n          })\n          .then(function(response) {\n            console.log(response);\n          })\n          .catch(function(error) {\n            console.log(error);\n          });\n      }\n      this.loading = false;\n      this.dialog = false;\n      this.$emit(\"Empresa añadida\");\n    },\n    fetchData() {\n      const url = `${API_BASE}/empresas/` + localStorage.empresaFK;\n      console.log(url);\n      axios\n        .get(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + localStorage.token\n          }\n        })\n        .then(response => {\n          console.log(\"Response\", response);\n          this.name = response.data.data.empresa;\n          this.email = response.data.data.email;\n          this.phone = response.data.data.phone;\n          this.sector = response.data.data.sector;\n          this.url = response.data.data.url;\n          this.description = response.data.data.description;\n        });\n    }\n  },\n  computed: {\n    formattedDate() {\n      console.log(this.due);\n      return this.due ? format(this.due, \"Do MMM YYYY\") : \"\";\n    }\n  },\n  mounted() {\n    this.fetchData();\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}